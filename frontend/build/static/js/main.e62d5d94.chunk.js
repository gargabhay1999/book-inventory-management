(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{27:function(e,t,o){},28:function(e,t,o){},34:function(e,t,o){"use strict";o.r(t);var n=o(0),c=o.n(n),a=o(10),r=o.n(a),s=(o(27),o(28),o(1)),i=function(){return Object(s.jsxs)("header",{children:[Object(s.jsx)("i",{className:"fas fa-book"}),Object(s.jsx)("h1",{children:" Welcome to Abhay's Book Inventory"})]})},l=o(22),u=o(6);var b=function(e){return Object(s.jsx)("div",{children:Object(s.jsx)("div",{className:"search-area",children:Object(s.jsxs)("form",{onSubmit:e.searchBook,action:"",children:[Object(s.jsx)("input",{className:"searchArea",type:"text",placeholder:"Search Book",onChange:e.handleSearch}),Object(s.jsx)("button",{className:"btn btn-info",type:"submit",children:"Search"})]})})})},d=o(17),h=o(18),j=function(){function e(){Object(d.a)(this,e)}return Object(h.a)(e,null,[{key:"InsertBook",value:function(e){if(!(e.quantity<=0))return fetch("https://spoonshot-book-inventory-abhay.herokuapp.com/addBook",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()}));alert("Please enter valid quantity")}},{key:"DeleteBook",value:function(e){return fetch("https://spoonshot-book-inventory-abhay.herokuapp.com/deleteBookByGoogleId/".concat(e,"/"),{method:"DELETE",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()}))}},{key:"UpdateBook",value:function(e,t){return fetch("https://spoonshot-book-inventory-abhay.herokuapp.com/updateBookByGoogleId/".concat(e,"/"),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()}))}}]),e}(),O=o(36),f=o(37);var k=function(e){var t=Object(n.useState)(""),o=Object(u.a)(t,2),c=o[0],a=o[1],r=Object(n.useState)(""),i=Object(u.a)(r,2),l=i[0],b=i[1],d=Object(n.useState)(""),h=Object(u.a)(d,2),O=h[0],f=h[1],k=Object(n.useState)(""),g=Object(u.a)(k,2),p=g[0],m=g[1],x=Object(n.useState)(""),y=Object(u.a)(x,2),v=y[0],B=y[1],C=Object(n.useState)(""),S=Object(u.a)(C,2),I=S[0],N=S[1];return Object(n.useEffect)((function(){a(e.book.googleId),b(e.book.title),f(e.book.authors),m(e.book.publishedDate),B(e.book.quantity),N(e.book.imageUrl)}),[e.book]),Object(s.jsx)("div",{children:e.book?Object(s.jsxs)("div",{className:"mb-3",children:[Object(s.jsx)("label",{htmlFor:"title",className:"form-label",children:" Title"}),Object(s.jsx)("input",{type:"text",className:"form-control",placeholder:"Plese Enter Title",value:l,onChange:function(e){return b(e.target.value)}}),Object(s.jsx)("label",{htmlFor:"authors",className:"form-label",children:" Author/s"}),Object(s.jsx)("input",{type:"text",className:"form-control",placeholder:"Plese Enter Author/s",value:O,onChange:function(e){return f(e.target.value)}}),Object(s.jsx)("label",{htmlFor:"quantity",className:"form-label",children:" Quantity"}),Object(s.jsx)("input",{type:"number",className:"form-control",min:"1",placeholder:"Plese Enter Quantity",value:v>=0?v:0,onChange:function(e){return B(e.target.value)}}),-1!=e.book.quantity?Object(s.jsx)("button",{onClick:function(){j.UpdateBook(e.book.googleId,{googleId:c,title:l,authors:O,publishedDate:p,quantity:v,imageUrl:I}).then((function(t){return e.updatedBook(t)})).catch((function(e){return console.log(e)}))},className:"btn btn-success mt-3",children:" Update"}):Object(s.jsx)("button",{onClick:function(){console.log("sdfafd"),console.log({googleId:c,title:l,authors:O,publishedDate:p,quantity:v,imageUrl:I}),j.InsertBook({googleId:c,title:l,authors:O,publishedDate:p,quantity:v,imageUrl:I}).then((function(t){return e.updatedBook(t)})).catch((function(e){return console.log(e)}))},className:"btn btn-success mt-3",children:" Insert"})]}):null})};var g=function(e){var t=Object(n.useState)(!1),o=Object(u.a)(t,2),c=o[0],a=o[1],r=function(){return a(!1)},i=function(t){console.log(t),j.DeleteBook(t).then((function(t){return e.deleteBook(t)})).catch((function(e){return console.log(e)}))},l=function(t){console.log(t),e.editBook(t)};return Object(s.jsx)(s.Fragment,{children:Object(s.jsxs)("div",{className:"card-container",id:e.googleId,children:[e.editedBook==e.book?Object(s.jsx)(k,{book:e.editedBook,updatedBook:e.updatedBook,insertedBook:e.insertedBook}):null,Object(s.jsx)("img",{src:e.imageUrl,alt:""}),Object(s.jsxs)("div",{className:"desc",children:[Object(s.jsxs)("h5",{children:["Title: ",e.title]}),Object(s.jsxs)("h5",{children:["Author: ",e.authors]}),Object(s.jsxs)("h5",{children:["Published Date: ",e.publishedDate]}),0==e.quantity?Object(s.jsxs)("div",{children:[Object(s.jsx)("h5",{style:{color:"red",fontSize:"18px"},children:"OUT OF STOCK"}),Object(s.jsx)("button",{className:"btn btn-success",onClick:function(){return l(e.book)},children:"Manage Inventory"}),Object(s.jsx)("button",{className:"btn btn-danger",onClick:function(){return i(e.googleId)},children:"Remove Books"})]}):null,e.quantity>0?Object(s.jsxs)("div",{children:[Object(s.jsxs)("h5",{style:{color:"green",fontSize:"18px"},children:["Available Qty: ",e.quantity]}),Object(s.jsx)("button",{className:"btn btn-success",onClick:function(){return l(e.book)},children:"Manage Inventory"}),Object(s.jsx)("button",{className:"btn btn-danger",onClick:function(){return i(e.googleId)},children:"Remove Books"})]}):null,e.quantity<0?Object(s.jsxs)("div",{children:[Object(s.jsx)("h5",{style:{color:"indigo",fontSize:"18px"},children:"NOT AVAILABLE"}),Object(s.jsx)("button",{className:"btn btn-success",onClick:function(){return l(e.book)},children:"Add Book"})]}):null]}),Object(s.jsx)("hr",{style:{borderColor:"orange",backgroundColor:"green",height:2}}),Object(s.jsxs)(O.a,{show:c,onHide:r,children:[Object(s.jsx)(O.a.Header,{closeButton:!0,children:Object(s.jsx)(O.a.Title,{children:"Modal heading"})}),Object(s.jsx)(O.a.Body,{children:"Woohoo, you're reading this text in a modal!"}),Object(s.jsxs)(O.a.Footer,{children:[Object(s.jsx)(f.a,{variant:"secondary",onClick:r,children:"Close"}),Object(s.jsx)(f.a,{variant:"primary",onClick:r,children:"Save Changes"})]})]})]})})};o(38);var p=function(e){var t=Object(n.useState)(null),o=Object(u.a)(t,2),c=o[0],a=o[1],r=Object(n.useState)(!1),i=Object(u.a)(r,2),l=(i[0],i[1]),b=function(e){a(e),l(!0)};return Object(s.jsxs)("div",{children:[Object(s.jsx)("hr",{}),e.books.map((function(t,o){return Object(s.jsx)(g,{googleId:t.googleId,imageUrl:t.imageUrl,title:t.title,authors:t.authors,publishedDate:t.publishedDate,quantity:t.quantity,deleteBook:e.deleteBook,editBook:b,editedBook:c,updatedBook:e.updatedBook,insertedBook:e.insertedBook,book:t},o)}))]})};var m=function(){var e=Object(n.useState)([]),t=Object(u.a)(e,2),o=t[0],c=t[1],a=Object(n.useState)(""),r=Object(u.a)(a,2),i=r[0],d=r[1];return Object(n.useEffect)((function(){fetch("https://spoonshot-book-inventory-abhay.herokuapp.com/getBooks",{method:"GET",headers:{"Content-Type":"applications/json"}}).then((function(e){return e.json()})).then((function(e){return c(e)})).catch((function(e){return console.log(e)}))}),[]),Object(s.jsxs)("div",{children:[Object(s.jsx)(b,{handleSearch:function(e){d(e.target.value)},searchBook:function e(t){return t.preventDefault(),console.log(e),fetch("https://spoonshot-book-inventory-abhay.herokuapp.com/getFinalBooks?searchText=".concat(i),{method:"GET",headers:{"Content-Type":"applications/json"}}).then((function(e){return e.json()})).then((function(e){return c(e)})).catch((function(e){return console.log(e)}))}}),Object(s.jsx)(p,{books:o,deleteBook:function(e){var t=o.filter((function(t){return t.googleId!==e.googleId}));c(t)},updatedBook:function(e){var t=o.map((function(t){return t.googleId===e.googleId?e:t}));c(t)},insertedBook:function(e){var t=[].concat(Object(l.a)(o),[e]);c(t)}})]})};var x=function(){return Object(s.jsxs)("div",{className:"App",children:[Object(s.jsx)(i,{}),Object(s.jsx)(m,{})]})},y=function(e){e&&e instanceof Function&&o.e(3).then(o.bind(null,39)).then((function(t){var o=t.getCLS,n=t.getFID,c=t.getFCP,a=t.getLCP,r=t.getTTFB;o(e),n(e),c(e),a(e),r(e)}))};o(33);r.a.render(Object(s.jsx)(c.a.StrictMode,{children:Object(s.jsx)(x,{})}),document.getElementById("root")),y()}},[[34,1,2]]]);
//# sourceMappingURL=main.e62d5d94.chunk.js.map