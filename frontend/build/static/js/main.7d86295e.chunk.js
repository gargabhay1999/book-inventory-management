(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{14:function(e,t,n){},15:function(e,t,n){},17:function(e,t,n){"use strict";n.r(t);var o=n(1),c=n.n(o),a=n(6),s=n.n(a),r=(n(14),n(15),n(0)),l=function(){return Object(r.jsxs)("header",{children:[Object(r.jsx)("i",{className:"fas fa-book"}),Object(r.jsx)("h1",{children:" Welcome to Abhay's Book Inventory"})]})},i=n(9),u=n(2);var b=function(e){return Object(r.jsx)("div",{children:Object(r.jsx)("div",{className:"search-area",children:Object(r.jsxs)("form",{onSubmit:e.searchBook,action:"",children:[Object(r.jsx)("input",{type:"text",placeholder:"Search Book",onChange:e.handleSearch}),Object(r.jsx)("button",{type:"submit",children:"Search"})]})})})},h=n(7),d=n(8),j=function(){function e(){Object(h.a)(this,e)}return Object(d.a)(e,null,[{key:"InsertBook",value:function(e){if(!(e.quantity<=0))return fetch("https://eflask-app-abhay.herokuapp.com/addBook",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()}));alert("Please enter valid quantity")}},{key:"DeleteBook",value:function(e){return fetch("https://eflask-app-abhay.herokuapp.com/deleteBookByGoogleId/".concat(e,"/"),{method:"DELETE",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()}))}},{key:"UpdateBook",value:function(e,t){return fetch("https://eflask-app-abhay.herokuapp.com/updateBookByGoogleId/".concat(e,"/"),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()}))}}]),e}();var f=function(e){var t=function(t){console.log(t),j.DeleteBook(t).then((function(t){return e.deleteBook(t)})).catch((function(e){return console.log(e)}))},n=function(t){console.log(t),e.editBook(t)};return Object(r.jsxs)("div",{className:"card-container",id:e.googleId,children:[Object(r.jsx)("img",{src:e.imageUrl,alt:""}),Object(r.jsxs)("div",{className:"desc",children:[Object(r.jsxs)("h5",{children:["Title: ",e.title]}),Object(r.jsxs)("h5",{children:["Author: ",e.authors]}),Object(r.jsxs)("h5",{children:["Published Date: ",e.publishedDate]}),0==e.quantity?Object(r.jsxs)("div",{children:[Object(r.jsx)("h5",{children:"OUT OF STOCK"}),Object(r.jsx)("button",{className:"btn btn-success",onClick:function(){return n(e.book)},children:"Manage Inventory"}),Object(r.jsx)("button",{className:"btn btn-danger",onClick:function(){return t(e.googleId)},children:"Remove Books"})]}):null,e.quantity>0?Object(r.jsxs)("div",{children:[Object(r.jsxs)("h5",{children:["Available Qty: ",e.quantity]}),Object(r.jsx)("button",{className:"btn btn-success",onClick:function(){return n(e.book)},children:"Manage Inventory"}),Object(r.jsx)("button",{className:"btn btn-danger",onClick:function(){return t(e.googleId)},children:"Remove Books"})]}):null,e.quantity<0?Object(r.jsxs)("div",{children:[Object(r.jsx)("h5",{children:"NOT AVAILABLE"}),Object(r.jsx)("button",{className:"btn btn-success",onClick:function(){return n(e.book)},children:"Add Book"})]}):null]}),Object(r.jsx)("hr",{})]})};var p=function(e){var t=Object(o.useState)(""),n=Object(u.a)(t,2),c=n[0],a=n[1],s=Object(o.useState)(""),l=Object(u.a)(s,2),i=l[0],b=l[1],h=Object(o.useState)(""),d=Object(u.a)(h,2),f=d[0],p=d[1],O=Object(o.useState)(""),k=Object(u.a)(O,2),g=k[0],m=k[1],x=Object(o.useState)(""),y=Object(u.a)(x,2),v=y[0],B=y[1],I=Object(o.useState)(""),N=Object(u.a)(I,2),C=N[0],S=N[1];return Object(o.useEffect)((function(){a(e.book.googleId),b(e.book.title),p(e.book.authors),m(e.book.publishedDate),B(e.book.quantity),S(e.book.imageUrl)}),[e.book]),Object(r.jsx)("div",{children:e.book?Object(r.jsxs)("div",{className:"mb-3",children:[Object(r.jsx)("label",{htmlFor:"title",className:"form-label",children:" Title"}),Object(r.jsx)("input",{type:"text",className:"form-control",placeholder:"Plese Enter Title",value:i,onChange:function(e){return b(e.target.value)}}),Object(r.jsx)("label",{htmlFor:"authors",className:"form-label",children:" Author/s"}),Object(r.jsx)("input",{type:"text",className:"form-control",placeholder:"Plese Enter Author/s",value:f,onChange:function(e){return p(e.target.value)}}),Object(r.jsx)("label",{htmlFor:"quantity",className:"form-label",children:" Quantity"}),Object(r.jsx)("input",{type:"number",className:"form-control",min:"1",placeholder:"Plese Enter Quantity",value:v>=0?v:0,onChange:function(e){return B(e.target.value)}}),-1!=e.book.quantity?Object(r.jsx)("button",{onClick:function(){j.UpdateBook(e.book.googleId,{googleId:c,title:i,authors:f,publishedDate:g,quantity:v,imageUrl:C}).then((function(t){return e.updatedBook(t)})).catch((function(e){return console.log(e)}))},className:"btn btn-success mt-3",children:" Update"}):Object(r.jsx)("button",{onClick:function(){console.log("sdfafd"),console.log({googleId:c,title:i,authors:f,publishedDate:g,quantity:v,imageUrl:C}),j.InsertBook({googleId:c,title:i,authors:f,publishedDate:g,quantity:v,imageUrl:C}).then((function(t){return e.updatedBook(t)})).catch((function(e){return console.log(e)}))},className:"btn btn-success mt-3",children:" Insert"})]}):null})};var O=function(e){var t=Object(o.useState)(null),n=Object(u.a)(t,2),c=n[0],a=n[1],s=function(e){a(e)};return Object(r.jsxs)("div",{children:[c?Object(r.jsx)(p,{book:c,updatedBook:e.updatedBook,insertedBook:e.insertedBook}):null,Object(r.jsx)("hr",{}),e.books.map((function(t,n){return Object(r.jsx)(f,{googleId:t.googleId,imageUrl:t.imageUrl,title:t.title,authors:t.authors,publishedDate:t.publishedDate,quantity:t.quantity,deleteBook:e.deleteBook,editBook:s,book:t},n)}))]})};var k=function(){var e=Object(o.useState)([]),t=Object(u.a)(e,2),n=t[0],c=t[1],a=Object(o.useState)(""),s=Object(u.a)(a,2),l=s[0],h=s[1];return Object(o.useEffect)((function(){fetch("https://eflask-app-abhay.herokuapp.com/getBooks",{method:"GET",headers:{"Content-Type":"applications/json"}}).then((function(e){return e.json()})).then((function(e){return c(e)})).catch((function(e){return console.log(e)}))}),[]),Object(r.jsxs)("div",{children:[Object(r.jsx)(b,{handleSearch:function(e){h(e.target.value)},searchBook:function e(t){return t.preventDefault(),console.log(e),fetch("https://eflask-app-abhay.herokuapp.com/getFinalBooks?searchText=".concat(l),{method:"GET",headers:{"Content-Type":"applications/json"}}).then((function(e){return e.json()})).then((function(e){return c(e)})).catch((function(e){return console.log(e)}))}}),Object(r.jsx)(O,{books:n,deleteBook:function(e){var t=n.filter((function(t){return t.googleId!==e.googleId}));c(t)},updatedBook:function(e){var t=n.map((function(t){return t.googleId===e.googleId?e:t}));c(t)},insertedBook:function(e){var t=[].concat(Object(i.a)(n),[e]);c(t)}})]})};var g=function(){return Object(r.jsxs)("div",{className:"App",children:[Object(r.jsx)(l,{}),Object(r.jsx)(k,{})]})},m=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,18)).then((function(t){var n=t.getCLS,o=t.getFID,c=t.getFCP,a=t.getLCP,s=t.getTTFB;n(e),o(e),c(e),a(e),s(e)}))};s.a.render(Object(r.jsx)(c.a.StrictMode,{children:Object(r.jsx)(g,{})}),document.getElementById("root")),m()}},[[17,1,2]]]);
//# sourceMappingURL=main.7d86295e.chunk.js.map